<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Game Shell Test - Wide Canvas</title>
  <link rel="stylesheet" href="../game-shell.css">
  <style>
    body { margin: 0; padding: 0; background: #1a1a2e; color: #eee; font-family: sans-serif; }
    .test-wrap { display: flex; flex-direction: column; height: 100vh; }
    header { padding: 1rem; background: #16213e; }
    h1 { margin: 0; font-size: 1.5rem; }
    .test-shell { flex: 1; min-height: 0; }
    #test-canvas { background: #0f3460; }
    .test-hud { display: flex; flex-direction: column; gap: 1rem; }
    .panel-box { background: #16213e; padding: 1rem; border-radius: 8px; }
    .preview-canvas { background: #0f3460; display: block; margin: 0 auto; }
    .stat { display: flex; justify-content: space-between; margin: 0.5rem 0; }
  </style>
</head>
<body>
  <div class="test-wrap">
    <header>
      <h1>Game Shell Test - Wide Canvas (720×480)</h1>
    </header>
    
    <div class="test-shell gs-shell">
      <div class="gs-surface">
        <canvas id="test-canvas" width="720" height="480"></canvas>
      </div>
      
      <div class="test-hud gs-hud">
        <div class="panel-box" data-gs-snap="top" data-gs-fit="required">
          <h3>Preview</h3>
          <canvas class="preview-canvas" width="80" height="80"></canvas>
        </div>
        
        <div class="panel-box" data-gs-snap="top" data-gs-fit="required">
          <h3>Stats</h3>
          <div class="stat"><span>Score:</span><span id="score">0</span></div>
          <div class="stat"><span>Level:</span><span id="level">1</span></div>
          <div class="stat"><span>Time:</span><span id="time">0:00</span></div>
        </div>
        
        <div class="panel-box" data-gs-snap="bottom" data-gs-fit="optional">
          <h3>Controls</h3>
          <p>Arrow keys to move</p>
          <p>Space to shoot</p>
        </div>
      </div>
    </div>
  </div>
  
  <script type="module">
    import { initGameShell } from '../game-shell.js';
    
    const canvas = document.getElementById('test-canvas');
    const ctx = canvas.getContext('2d');
    
    // Draw test pattern
    function draw() {
      ctx.fillStyle = '#0f3460';
      ctx.fillRect(0, 0, 720, 480);
      
      ctx.strokeStyle = '#16213e';
      ctx.lineWidth = 1;
      for (let i = 0; i < 720; i += 60) {
        ctx.beginPath();
        ctx.moveTo(i, 0);
        ctx.lineTo(i, 480);
        ctx.stroke();
      }
      for (let i = 0; i < 480; i += 60) {
        ctx.beginPath();
        ctx.moveTo(0, i);
        ctx.lineTo(720, i);
        ctx.stroke();
      }
      
      ctx.fillStyle = '#e94560';
      ctx.font = '32px sans-serif';
      ctx.textAlign = 'center';
      ctx.fillText('Wide Canvas', 360, 240);
      ctx.font = '20px sans-serif';
      ctx.fillText('720 × 480', 360, 270);
    }
    
    draw();
    
    initGameShell({
      canvasEl: canvas,
      baseWidth: 720,
      baseHeight: 480,
      canvasBias: 'wide',
      mode: 'fractional',
      fit: 'css'
    });
  </script>
</body>
</html>
